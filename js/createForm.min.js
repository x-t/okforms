function add_question(){q++;var t=document.getElementById("formq"),e=document.createElement("li");e.setAttribute("id","q"+q);var n='<button type="button" onclick="del_question('+q+')">delete</button><br /><p>Question: <input type="text" name="question['+q+'][q]" maxlength="'+MAX_Q_LEN+'" /></p><p>Required to answer?<br /><table style="display: table"><tbody><tr><td>Yes</td><td><input type="radio" name="question['+q+'][req]" value="yes" /></td></tr><tr><td>No</td> <td><input type="radio" name="question['+q+'][req]" value="no" /></td></tr></tbody></table></p><p>Type:<br /><table style="display: table"> <tbody><tr><td>Single choice</td><td><input type="radio" name="question['+q+'][type]" value="single" onclick="gen_choices('+q+', \'s\')" /></td></tr><tr><td>Multiple choices</td><td><input type="radio" name="question['+q+'][type]" value="multiple" onclick="gen_choices('+q+', \'m\')" /></td></tr><tr><td>Text field</td><td><input type="radio" name="question['+q+'][type]" value="text" onclick="gen_choices('+q+", 't')\" /></td></tr></tbody></table></p><div id=\"q"+q+'-c"></div>';e.innerHTML=n,t.appendChild(e)}function gen_choices(t,e){var n=document.getElementById("q"+t+"-c"),d="";"s"===e?d+='<table id="q'+t+'-col"><tbody><tr><td><button type="button" onclick="del_choice('+t+', 0)">delete</button></td><td><input type="text" name="question['+t+'][choices][]" maxlength="'+MAX_C_LEN+'" /></td></tr></tbody></table><button type="button" onclick="add_choice('+t+')">Add a choice</button>':"m"===e?d+='<table id="q'+t+'-col"><tbody><tr><td><button type="button" onclick="del_choice('+t+', 0)">delete</button></td><td><input type="text" name="question['+t+'][choices][]" maxlength="'+MAX_C_LEN+'"/></td></tr></tbody></table><button type="button"onclick="add_choice('+t+')">Add a choice</button>':"t"===e&&(d+='<p><div style="display: inline" title="&gt;512 characters is a paragraph. Max is '+"9".repeat(MAX_T_LEN)+'">Maximum length</div>: <input type="text" name="question['+t+'][maxlen]" maxlength="'+MAX_T_LEN+'"><br></p>'),n.innerHTML=d}function add_choice(t){var e=document.getElementById("q"+t+"-col"),n=document.createElement("tr"),d=e.getElementsByTagName("tr").length,o='<td><button type="button" onclick="del_choice('+t+", "+d+')">delete</button></td><td><input type="text" name="question['+t+'][choices][]" maxlength="'+MAX_C_LEN+'" /></td>';n.innerHTML=o,e.appendChild(n)}function del_choice(t,e){var n=document.getElementById("q"+t+"-col");n.removeChild(n.getElementsByTagName("tr")[e])}function del_question(t){var e=document.getElementById("q"+t);e.parentNode.removeChild(e)}var q=-1;